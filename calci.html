<html>
    
    <head>
        <title>Calculator</title>
        <script src= 
        "https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.js"
                integrity= 
        "sha512-BbVEDjbqdN3Eow8+empLMrJlxXRj5nEitiCAK5A1pUr66+jLVejo3PmjIaucRnjlB0P9R3rBUs3g5jXc8ti+fQ=="
                crossorigin="anonymous"
                referrerpolicy="no-referrer"></script> 
            <script src= 
        "https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.min.js"
                integrity= 
        "sha512-iphNRh6dPbeuPGIrQbCdbBF/qcqadKWLa35YPVfMZMHBSI6PLJh1om2xCTWhpVpmUyb4IvVS9iYnnYMkleVXLA=="
                crossorigin="anonymous"
                referrerpolicy="no-referrer"></script>       
        <link rel = "stylesheet" href = "calci.css">
    </head>

<body>
    <h2>Calculator</h2>
    
    <table>
    <tr>
        <td colspan="4"><input type = "text" id = "res"></td>
    </tr>
    
    <tr>
        <td><button class = "l_grey" value="AC" onclick="clr()">AC</button></td>
        <td><button class = "l_grey" value="+/-" onclick="displayValue('(-1)*')" onkeydown="myFunction(event)">+/-</button></td>
        <td><button class = "l_grey" value="%" onclick = "displayValue('%*')" onkeydown="myFunction(event)">%</button></td>
        <td><button class = "orange" value="รท" onclick="displayValue('/')" onkeydown="myFunction(event)">รท</button></td>
    </tr>
    
    <tr>
        <td><button class = "d_grey" value="7" onclick="displayValue('7')" onkeydown="myFunction(event)">7</button></td>
        <td><button class = "d_grey" value="8" onclick="displayValue('8')" onkeydown="myFunction(event)">8</button></td>
        <td><button class = "d_grey" value="9" onclick="displayValue('9')" onkeydown="myFunction(event)">9</button></td>
        <td><button class = "orange" value="x" onclick="displayValue('*')" onkeydown="myFunction(event)">x</button></td>
    </tr>
    
    <tr>
        <td><button class = "d_grey" value="4" onclick="displayValue('4')" onkeydown="myFunction(event)">4</button></td>
        <td><button class = "d_grey" value="5" onclick="displayValue('5')" onkeydown="myFunction(event)">5</button></td>
        <td><button class = "d_grey" value="6" onclick="displayValue('6')" onkeydown="myFunction(event)">6</button></td>
        <td><button class = "orange" value="-" onclick="displayValue('-')" onkeydown="myFunction(event)">-</button></td>
    </tr>
    
    <tr>
        <td><button class = "d_grey" value="1" onclick="displayValue('1')" onkeydown="myFunction(event)">1</button></td>
        <td><button class = "d_grey" value="2" onclick="displayValue('2')" onkeydown="myFunction(event)">2</button></td>
        <td><button class = "d_grey" value="3" onclick="displayValue('3')" onkeydown="myFunction(event)">3</button></td>
        <td><button class = "orange" value="+" onclick="displayValue('+')" onkeydown="myFunction(event)">+</button></td>
    </tr>

    <tr>
        <td colspan="2"><button id = "zero" value="0" onclick="displayValue('0')" onkeydown="myFunction(event)">0</button></td>
        <td><button class = "d_grey" value="." onclick="displayValue('.')" onkeydown="myFunction(event)">.</button></td>
        <td><button class = "orange" value="=" onclick="solve()">=</button></td>
    </tr>

</table>

<script>
    function displayValue(val){
        document.getElementById("res").value += val
    }

    function myFunction(event) { 
            if (event.key == '0' || event.key == '1' 
                || event.key == '2' || event.key == '3' 
                || event.key == '4' || event.key == '5' 
                || event.key == '6' || event.key == '7' 
                || event.key == '8' || event.key == '9' 
                || event.key == '+' || event.key == '-' 
                || event.key == '*' || event.key == '/'
                || event.key == '%*' || event.key == '(-1)*') 
                document.getElementById("res").value += event.key; 
    } 

    document.addEventListener('keydown', myFunction); 

    var cal = document.getElementByTagName("table"); 
        cal.onkeyup = function (event) { 
            if (event.keyCode === 13) { 
                console.log("Enter"); 
                let x = document.getElementById("res").value 
                console.log(x); 
                solve(); 
            } 
        }

        function solve() { 
            let x = document.getElementById("res").value 
            let y = math.evaluate(x) 
            document.getElementById("res").value = y 
        } 
  
        function clr() { 
            document.getElementById("res").value = "" 
        } 
</script>
</body>
</html>